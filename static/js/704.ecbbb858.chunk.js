"use strict";(self.webpackChunkgraphwear=self.webpackChunkgraphwear||[]).push([[704],{8704:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var a=o(5043),r=o(3216),n=o(5472);const s=(0,o(7064).Wp)({apiKey:"AIzaSyDgHlTPj49gm-TFuh0SrzIUhmq-pYw-ifw",authDomain:"graphware-1761f.firebaseapp.com",projectId:"graphware-1761f",storageBucket:"graphware-1761f.firebasestorage.app",messagingSenderId:"975460401347",appId:"1:975460401347:web:f863efc8eb9a5b066c2276",measurementId:"G-ZRCBDTJ827"}),i=(0,n.aU)(s);var l=o(522),c=o(579);const d=e=>{let{children:t,header:o=" ",onEdit:a,isDisable:r=!1,disableReason:n="Not Allowed"}=e;return(0,c.jsxs)("div",{className:"w-full bg-white px-4 md:px-8 rounded-xl",children:[o&&(0,c.jsxs)("div",{className:"flex items-end gap-[5px] mb-8",children:[(0,c.jsx)("h2",{className:"font-bold text-xl md:text-2xl",children:o}),a&&(0,c.jsx)("p",{className:"text-xl font-bold "+(r?"cursor-not-allowed text-gray-500":"cursor-pointer text-accent hover:text-amber-700 duration-100"),onClick:r?()=>{}:a,title:r?n:"",children:"(edit)"})]}),t]})};var u=o(3969),m=o(4995),p=o(7310),f=o(3582),g=o(3082);const h={xs:"10px",sm:"11px",md:"12px",lg:"13px",xl:"14px"},x=e=>{var t,o;let{tableData:r,columns:n,keyName:s="id",handleBottomButton:i=()=>{},showBottomButton:l=!1,showFullScreenOption:d=!0,initialState:x={},newButtonName:b="Save",paginationProps:w={rowsPerPageOptions:[5],showRowsPerPage:!1},onRowClick:v=null,enablePagination:y=!0,enableColumnOrdering:S=!1,enableHiding:j=!1,enableColumnResizing:M=!1,maxHeight:T="auto",isBottomButtonDisable:P=!1,renderPanel:I=null,topButton:B={showTopButton:!1,handleTopButton:()=>{},value:0}}=e;const N=(0,a.useRef)(null),C=(0,p.A)({components:{MuiIconButton:{styleOverrides:{root:{"& .MuiSvgIcon-root":{color:"#707070 !important"}}}},MuiTableSortLabel:{styleOverrides:{root:{"& .MuiSvgIcon-root":{color:"#707070 !important"},"&:hover .MuiSvgIcon-root":{color:"#ffffff !important"},"&.Mui-active .MuiSvgIcon-root":{color:"#707070 !important"}}}}}}),R=(0,f.Up)({columns:n,data:r,getRowId:e=>e[s],initialState:{density:"compact",...x},enableColumnActions:!0,enableDensityToggle:!1,enableFilters:!0,enableHiding:j,enableStickyHeader:!0,enableStickyFooter:!0,enablePagination:y,enableFullScreenToggle:d,enableTopToolbar:!0,enableBottomToolbar:!0,enableColumnOrdering:S,enableColumnResizing:M,maxHeight:T,...y?{paginationDisplayMode:"pages"}:{enableRowVirtualization:!0,rowVirtualizerInstanceRef:N,rowVirtualizerOptions:{overscan:5}},muiTableHeadCellProps:{sx:{fontWeight:"bolder",fontSize:h,".MuiDivider-root":{borderWidth:"1px",opacity:"0.5"}}},muiTablePaperProps:{elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",padding:"5px"}},muiTableContainerProps:{sx:{height:"auto",maxHeight:T}},muiTableBodyProps:{sx:()=>({fontSize:h})},muiBottomToolbarProps:{sx:{...!l&&{justifyContent:"end"}}},muiTopToolbarProps:{sx:{...!B.showTopButton&&{justifyContent:"end"}}},renderBottomToolbarCustomActions:()=>l&&(0,c.jsx)(g.A,{isPrimaryButton:!0,onClick:i,disabled:P,children:b}),renderTopToolbarCustomActions:()=>B.showTopButton&&(0,c.jsxs)("div",{className:"flex flex-row items-center justify-center gap-2 h-[39.94px] cursor-pointer",onClick:B.handleTopButton,children:[(0,c.jsx)("input",{type:"checkbox",className:"cursor-pointer",checked:B.value}),(0,c.jsx)("span",{className:"text-sm text-primary",children:"(Select All)"})]}),...v&&{muiTableBodyRowProps:e=>{let{row:t}=e;return{onClick:e=>v(t),sx:{cursor:"pointer"}}}},muiPaginationProps:{rowsPerPageOptions:null!==(t=null===w||void 0===w?void 0:w.rowsPerPageOptions)&&void 0!==t?t:[5],showFirstButton:!1,showLastButton:!1,showRowsPerPage:null!==(o=null===w||void 0===w?void 0:w.showRowsPerPage)&&void 0!==o&&o,siblingCount:0,size:"small"},...I&&{renderDetailPanel:e=>{let{row:t}=e;return(0,c.jsx)(u.A,{sx:{width:"100%"},children:I(t)})}}});return(0,c.jsx)(m.A,{theme:C,children:(0,c.jsx)(f.zp,{table:R})})},b="MM/dd/yyyy HH:mm:ss",w=e=>{const t=e.match(/(.*) \((.*)\)/);return t?(0,c.jsxs)("div",{className:"flex items-center gap-[5px]",children:[(0,c.jsx)("h3",{className:"font-bold",children:t[1]}),(0,c.jsxs)("span",{children:["(",t[2],")"]})]}):(0,c.jsx)("h3",{className:"font-bold",children:e})},v=((0,p.A)({components:{MuiIconButton:{styleOverrides:{root:{"& .MuiSvgIcon-root":{color:"#ffffff !important"},"&:hover .MuiSvgIcon-root":{color:"#ffffff !important"},"&.Mui-active .MuiSvgIcon-root":{color:"#ffffff !important"}}}},MuiTableSortLabel:{styleOverrides:{root:{"& .MuiSvgIcon-root":{color:"#ffffff !important"},"&:hover .MuiSvgIcon-root":{color:"#ffffff !important"},"&.Mui-active .MuiSvgIcon-root":{color:"#ffffff !important"}}}}}}),(0,p.A)({components:{MuiIconButton:{styleOverrides:{root:{"& .MuiSvgIcon-root":{color:"#707070 !important"}}}},MuiTableSortLabel:{styleOverrides:{root:{"& .MuiSvgIcon-root":{color:"#707070 !important"},"&:hover .MuiSvgIcon-root":{color:"#ffffff !important"},"&.Mui-active .MuiSvgIcon-root":{color:"#707070 !important"}}}}}}),(e,t,o)=>{var a;const r=e.getValue(t);return null!==(a=null===r||void 0===r?void 0:r.includes(o))&&void 0!==a&&a}),y=(e,t)=>{if(!e)return"";const o=new Date(e),a=6e4*o.getTimezoneOffset(),r=new Date(o.getTime()+a);return t===b?`${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getDate().toString().padStart(2,"0")}/${r.getFullYear()} ${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}:${r.getSeconds().toString().padStart(2,"0")}`:"yyyy-MM-dd"===t?`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`:"MM/dd/yyyy"===t?r.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}):void 0},S=e=>{let{data:t}=e;const o=function(e,o){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=((e,t)=>{if("string"===typeof e)return e.trim().length>0&&"null"!==e;if("object"!==typeof e||null===e)return!1;if(!(t in e))return!1;const o=e[t];return null!==o&&void 0!==o&&("string"!==typeof o||o.trim().length>0)})(t,o);return"timestamp"===o&&(t[o]=y(t[o],b)),(0,c.jsxs)("div",{className:`flex flex-col ${a}`,children:[(0,c.jsx)("h3",{className:"font-bold",children:w(e)}),(0,c.jsx)("p",{className:`px-.5 py-2 font-normal ${r?"text-gray-500":"text-red-600"} whitespace-nowrap`,children:r?`${null===t||void 0===t?void 0:t[o]}`:"Missing"})]})};return(0,c.jsx)(d,{header:"Data Packet Information",children:(0,c.jsxs)("div",{className:"grid xl:grid-cols-[repeat(4,1fr)] min-[1092px]:grid-cols-[repeat(3,1fr)] sm:grid-cols-[repeat(2,1fr)] gap-x-3 gap-y-0 ",children:[o("User","user_name"),o("Sensor","sensor_id"),o("Timestamp","timestamp"),(0,c.jsx)("hr",{className:"col-[1/-1] my-2"}),o("Lactate (Raw 1)","raw1"),o("Lactate (Raw 2)","raw2"),o("Lactate (Raw 3)","raw3"),(0,c.jsx)("hr",{className:"col-[1/-1] my-2"}),o("Ohm 1","ohm1"),o("Ohm 2","ohm2"),o("Ohm 3","ohm3"),(0,c.jsx)("hr",{className:"col-[1/-1] my-2"}),o("Temperature","temperature"),o("Connection Status","connection_status_flag"),o("Charging Status","charging_status_flag"),o("Touch Status","touch_status_flag"),o("Insertion Status","insertion_status_flag"),o("Flag 4","flag4"),o("Flag 5","flag5"),o("Flag 6","flag6"),o("Gain 0","gain0"),o("Gain 1","gain1"),o("Gain 2","gain2"),o("Offset 0","offset0"),o("Offset 1","offset1"),o("offset 2","offset2"),o("Header 1","header1"),o("Header 2","header2")]})})},j=()=>{const{setModal:e}=(0,r.KC)(),[t,o]=(0,a.useState)(!0),[s,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=(0,n.aQ)((0,n.rJ)(i,"lactate_data"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));p(t),u(!1),o(!1)}),(e=>{console.error("Error fetching real-time data:",e),u(!0),o(!1)}));return()=>e()}),[]);const f=[{accessorKey:"user_name",header:"User Name",size:50},{accessorKey:"sensor_id",header:"Sensor"},{accessorKey:"raw1",header:"Lactate(Raw 1)"},{accessorKey:"raw2",header:"Lactate(Raw 2)"},{accessorKey:"raw3",header:"Lactate(Raw 3)"},{accessorKey:"timestamp",header:"Timestamp",Cell:e=>{let{cell:t}=e;const o=t.getValue();return o?y(o,b):(0,c.jsx)("p",{className:"px-.5 font-normal text-red-600 whitespace-nowrap",children:"Missing"})},filterFn:v}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"py-8 flex flex-col space-y-2 md:items-baseline md:flex-row md:justify-between",children:(0,c.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"All Sensor Data"})}),t?(0,c.jsx)(d,{children:(0,c.jsx)(l.k,{size:"40px",className:"h-[223px]"})}):s?(0,c.jsx)(d,{children:(0,c.jsx)("p",{className:"text-red-500",children:"Failed to load data."})}):(0,c.jsx)(x,{tableData:m,columns:f,maxHeight:"420px",onRowClick:t=>{e({content:(0,c.jsx)(S,{data:t.original}),size:"modalFull"})}})]})}}}]);
//# sourceMappingURL=704.ecbbb858.chunk.js.map